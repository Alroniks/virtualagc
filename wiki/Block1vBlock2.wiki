#summary Detailed differences between block 1 and block 2 AGC

http://virtualagc.googlecode.com/svn/trunk/Apollo32.png 

|| This page is very new and doesn't yet contain much useful content. ||

<wiki:toc max_depth="2" />

== Introduction ==

The "block 1" AGC used in unmanned Apollo missions, and which would have been used for the Apollo 1 mission, is very similar to the "block 2" AGC used in all of the manned missions.  But it also differs in a number of details that affect programs written for the block 1 computers, as well as the implementation of the assembler and CPU simulator.  The block 1 DSKY is also quite different in physical appearance from the block 2 DSKY.

This wiki page is intended to described all of the differences in adequate detail to guide implementation changes in the Virtual AGC yaYUL, yaAGC, and yaDSKY(2) programs, as well as to provide guidance for a programmer familiar with block 2 systems to write block 1 programs.


== Documentation for Consultation ==

  * Language definition:
    * Block 1 machine language is defined in document [http://www.ibiblio.org/apollo/hrst/archive/1008.pdf R-393].
    * Block 2 machine language is defined in [http://www.ibiblio.org/apollo/hrst/archive/1689.pdf Memo #9], as supplemented by the [http://www.ibiblio.org/apollo/NARA-SW/E-2052.pdf AGC4 Basic Training Manual].
  * (More later)


== Assembly-Language Opcodes Unique to Block I or Block II ==

(This section needs content.)


== Differences in Assembly-Language Opcodes Common to Block I and Block II ==

(This section needs content.)


== Interpreter-Language Differences ==

(I don't know if block 1 has an interpreter language or not, but if so, the differences between it and block 2 interpreter language should be covered here.)


== Register Differences ==
  * Central registers
|| Address || Block I  || Block II ||
|| 00000   || A        || A        ||
|| 00001   || Q        || L        ||
|| 00002   || Z        || Q        ||
|| 00003   || LP       || EB       ||
|| 00004   || IN0      || FB       ||
|| 00005   || IN1      || Z        ||
|| 00006   || IN2      || BB       ||
|| 00007   || IN3      || -- (?)   ||
|| 00010   || OUT0     || ARUPT    ||
|| 00011   || OUT1     || LRUPT    ||
|| 00012   || OUT2     || QRUPT    ||
|| 00013   || OUT3     || (spare)  ||
|| 00014   || OUT4     || (spare)  ||
|| 00015   || BANK     || ZRUPT    ||
|| 00016   || RELINT   || BBRUPT   ||
|| 00017   || INHINT   || BRUPT    ||
|| 00020   || CYR      || CYR      ||
|| 00021   || SR       || SR       ||
|| 00022   || CYL      || CYL      || 
|| 00023   || SL       || EDOP     ||
|| 00024   || ZRUPT    || Counter  ||
|| 00025   || BRUPT    || Counter  ||
|| 00026   || ARUPT    || Counter  ||
|| 00027   || QRUPT    || Counter  ||
|| 00030   || Counter  || Counter  ||
||         ||          ||          ||
|| 00056   || Counter  || Counter  ||
|| 00057   || Erasable || Counter  || 
|| 00060   || Erasable || Erasable ||

  * Counter registers (according to John Pultorak):
    * Block 1: begin either at address 30 or 34 octal (with document R-393 being ambiguous about this).
    * Block 2: begin at address 24 (octal).


== I/O Differences ==

(Block I used registers for I/O while Block II used channels; this should be described here.)


== Other Memory-Map Differences ==

  * TIME1 and TIME2 variables (according to John Pultorak):
    * Block 1:  TIME1 is at the lower address.
    * Block 2:  TIME1 is at the higher address.

  * Program start and interrupt-vector table (according to John Pultorak):
    * Block 1:  Program start is address 2000 and remainder of interrupt vectors begin at 2004.
    * Block 2:  Program start (GOPROG) is at address 4000 and the remainder of the interrupt vectors begin at 4004.

 
== Uplink/Downlink Protocol Differences ==

(If any.)


== AGC/DSKY Interface Differences ==

(If any.)


== DSKY Appearance ==

Please refer instead to the [http://www.ibiblio.org/apollo/yaDSKY.html Virtual AGC website].